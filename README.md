### EventBus
分布式事务追求数据的强一致性,不过某些场景下,对于数据强一致性要求不太高的场景,可以采用追求数据的最终一致性策略。


EventBus 原理如下：
事务{
   业务代码A
   
   发布事件A
}

一个事务中将(1)业务代码A,(2)发布事件A两个动作同时入库，保证原子性，外部通过定时任务不断的去扫描事件表,通过事件名,调用相关的订阅者处理器,执行相关的操作。直到所有的订阅者都消费成功,再删除该事件。


### 重点：
不要将Bus当成定时任务来处理,Bus最怕的是消息积压,消息积压多后,会严重影响事件的消费,正常情况下 Bus 表里面不应该堆积数据。

Bus最好是用来处理两个领域之间的通讯,使得领域之间不直接耦合。


### todo
- 将 EventBus 抽象成为一个二方库给外部调用,根据外部的数据库源,配置Bus中的数据源，使得在同一个事务里。

